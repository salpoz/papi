<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculator + Converter tool</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        background: #f8fafc;
        min-height: 100vh;
        padding: 24px;
        color: #1e293b;
        line-height: 1.6;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: #1e293b;
        color: white;
        padding: 32px;
        text-align: center;
      }

      .header h1 {
        font-size: 1.875rem;
        font-weight: 600;
        margin-bottom: 8px;
      }

      .header p {
        font-size: 0.875rem;
        opacity: 0.8;
        font-weight: 400;
      }

      .content {
        padding: 32px;
      }

      .section {
        margin-bottom: 40px;
      }

      .section:last-child {
        margin-bottom: 0;
      }

      .section-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 24px;
        text-align: center;
      }

      .converter-box {
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        padding: 24px;
        max-width: 400px;
        margin: 0 auto;
      }

      .papi-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 24px;
      }

      .papi-box {
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        padding: 24px;
      }

      .box-title {
        font-size: 1rem;
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 20px;
        text-align: center;
      }

      .input-row {
        display: flex;
        align-items: center;
        margin-bottom: 16px;
        gap: 12px;
      }

      .input-row:last-child {
        margin-bottom: 0;
      }

      label {
        font-weight: 500;
        color: #475569;
        min-width: 70px;
        font-size: 0.875rem;
      }

      input[type="number"] {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        font-size: 0.875rem;
        background: white;
        color: #1e293b;
        transition: border-color 0.2s ease;
      }

      input[type="number"]:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      .unit {
        color: #6b7280;
        font-size: 0.875rem;
        min-width: 15px;
        text-align: center;
      }

      .calculate-section {
        text-align: center;
        margin: 32px 0;
      }

      .calculate-button {
        background: #1e293b;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 6px;
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.2s ease;
      }

      .calculate-button:hover {
        background: #334155;
      }

      .results {
        background: #f1f5f9;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        padding: 20px;
        margin-top: 24px;
      }

      .results h4 {
        font-size: 1rem;
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 16px;
      }

      .result-item {
        margin-bottom: 8px;
        font-size: 0.875rem;
        color: #475569;
        display: flex;
        justify-content: space-between;
      }

      .result-item:last-child {
        margin-bottom: 0;
      }

      .glide-slope-result {
        background: #dbeafe;
        border: 1px solid #3b82f6;
        border-radius: 8px;
        padding: 20px;
        margin-top: 20px;
        display: none;
      }

      .glide-slope-result h4 {
        font-size: 1rem;
        font-weight: 600;
        color: #1e40af;
        margin-bottom: 16px;
      }

      .glide-slope-result .result-item {
        color: #1e40af;
      }

      @media (max-width: 768px) {
        .papi-grid {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .content {
          padding: 20px;
        }

        .header {
          padding: 24px;
        }

        .header h1 {
          font-size: 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Converter + Calculator</h1>
        <p>
          Precision tools for degrees/minutes conversion and PAPI Approach slope
          calculation
        </p>
      </div>

      <div class="content">
        <!-- Degrees/Minutes Converter -->
        <div class="section">
          <h2 class="section-title">Converter</h2>
          <div class="converter-box">
            <div class="input-row">
              <label>Decimal:</label>
              <input
                type="number"
                id="decimal1"
                step="0.01"
                placeholder="0.00"
              />
              <span class="unit">°</span>
            </div>
            <div class="input-row">
              <label>Degrees:</label>
              <input type="number" id="degrees1" step="any" placeholder="0" />
              <span class="unit">°</span>
            </div>
            <div class="input-row">
              <label>Minutes:</label>
              <input
                type="number"
                id="minutes1"
                step="1"
                placeholder="0"
                min="0"
                max="59"
              />
              <span class="unit">'</span>
            </div>
          </div>
        </div>

        <!-- PAPI Glide Slope Calculator -->
        <div class="section">
          <h2 class="section-title">PAPI Approach Slope Calculator</h2>
          <div class="papi-grid">
            <div class="papi-box">
              <h3 class="box-title">Box B</h3>
              <div class="input-row">
                <label>Decimal:</label>
                <input
                  type="number"
                  id="upper-decimal"
                  step="0.01"
                  placeholder="0.00"
                />
                <span class="unit">°</span>
              </div>
              <div class="input-row">
                <label>Degrees:</label>
                <input
                  type="number"
                  id="upper-degrees"
                  step="any"
                  placeholder="0"
                />
                <span class="unit">°</span>
              </div>
              <div class="input-row">
                <label>Minutes:</label>
                <input
                  type="number"
                  id="upper-minutes"
                  step="1"
                  placeholder="0"
                  min="0"
                  max="59"
                />
                <span class="unit">'</span>
              </div>
            </div>

            <div class="papi-box">
              <h3 class="box-title">Box C</h3>
              <div class="input-row">
                <label>Decimal:</label>
                <input
                  type="number"
                  id="lower-decimal"
                  step="0.01"
                  placeholder="0.00"
                />
                <span class="unit">°</span>
              </div>
              <div class="input-row">
                <label>Degrees:</label>
                <input
                  type="number"
                  id="lower-degrees"
                  step="any"
                  placeholder="0"
                />
                <span class="unit">°</span>
              </div>
              <div class="input-row">
                <label>Minutes:</label>
                <input
                  type="number"
                  id="lower-minutes"
                  step="1"
                  placeholder="0"
                  min="0"
                  max="59"
                />
                <span class="unit">'</span>
              </div>
            </div>
          </div>

          <div class="calculate-section">
            <button id="calculate-btn" class="calculate-button">
              Calculate Approach Slope
            </button>
          </div>

          <div class="results">
            <h4>PAPI System Results</h4>
            <div class="result-item">
              <span>Glide Slope Range:</span>
              <span id="glide-range">-</span>
            </div>
            <div class="result-item">
              <span>Optimal Approach Angle:</span>
              <span id="optimal-angle">-</span>
            </div>
            <div class="result-item">
              <span>Angular Tolerance:</span>
              <span id="tolerance">-</span>
            </div>
            <div class="result-item">
              <span>PAPI Status:</span>
              <span id="papi-status">-</span>
            </div>
          </div>

          <div class="glide-slope-result" id="glide-slope-result">
            <h4>Calculated Glide Slope</h4>
            <div class="result-item">
              <span>Decimal:</span>
              <span id="glide-slope-decimal">-</span>
            </div>
            <div class="result-item">
              <span>Degrees, Minutes:</span>
              <span id="glide-slope-degrees-minutes">-</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Conversion functions
      function degreesToDecimal(degrees, minutes) {
        return degrees + minutes / 60;
      }

      function decimalToDegrees(decimal) {
        const degrees = Math.floor(Math.abs(decimal));
        const minutes = (Math.abs(decimal) - degrees) * 60;
        return {
          degrees: decimal < 0 ? -degrees : degrees,
          minutes: minutes,
        };
      }

      // Update functions for converter
      function updateFromDegreesMinutes() {
        const degrees =
          parseFloat(document.getElementById("degrees1").value) || 0;
        const minutes =
          parseInt(document.getElementById("minutes1").value) || 0;

        // Validate minutes
        if (minutes >= 60) {
          document.getElementById("minutes1").value = 59;
          return;
        }

        const decimal = degreesToDecimal(degrees, minutes);
        document.getElementById("decimal1").value = decimal.toFixed(2);
      }

      function updateFromDecimal() {
        const decimal =
          parseFloat(document.getElementById("decimal1").value) || 0;
        const result = decimalToDegrees(decimal);

        document.getElementById("degrees1").value = result.degrees;
        document.getElementById("minutes1").value = Math.round(result.minutes);
      }

      // Box B calculator functions
      function updateBoxBFromDegreesMinutes() {
        const degrees =
          parseFloat(document.getElementById("upper-degrees").value) || 0;
        const minutes =
          parseInt(document.getElementById("upper-minutes").value) || 0;

        if (minutes >= 60) {
          document.getElementById("upper-minutes").value = 59;
          return;
        }

        const decimal = degreesToDecimal(degrees, minutes);
        document.getElementById("upper-decimal").value = decimal.toFixed(2);
        updatePAPIResults();
      }

      function updateBoxBFromDecimal() {
        const decimal =
          parseFloat(document.getElementById("upper-decimal").value) || 0;
        const result = decimalToDegrees(decimal);

        document.getElementById("upper-degrees").value = result.degrees;
        document.getElementById("upper-minutes").value = Math.round(
          result.minutes
        );
        updatePAPIResults();
      }

      function updateBoxCFromDegreesMinutes() {
        const degrees =
          parseFloat(document.getElementById("lower-degrees").value) || 0;
        const minutes =
          parseInt(document.getElementById("lower-minutes").value) || 0;

        if (minutes >= 60) {
          document.getElementById("lower-minutes").value = 59;
          return;
        }

        const decimal = degreesToDecimal(degrees, minutes);
        document.getElementById("lower-decimal").value = decimal.toFixed(2);
        updatePAPIResults();
      }

      function updateBoxCFromDecimal() {
        const decimal =
          parseFloat(document.getElementById("lower-decimal").value) || 0;
        const result = decimalToDegrees(decimal);

        document.getElementById("lower-degrees").value = result.degrees;
        document.getElementById("lower-minutes").value = Math.round(
          result.minutes
        );
        updatePAPIResults();
      }

      function updatePAPIResults() {
        const upperAngle =
          parseFloat(document.getElementById("upper-decimal").value) || 0;
        const lowerAngle =
          parseFloat(document.getElementById("lower-decimal").value) || 0;

        if (upperAngle > 0 && lowerAngle > 0) {
          const range = Math.abs(upperAngle - lowerAngle);
          const optimal = (upperAngle + lowerAngle) / 2;
          const tolerance = range / 2;

          document.getElementById(
            "glide-range"
          ).textContent = `${lowerAngle.toFixed(2)}° to ${upperAngle.toFixed(
            2
          )}°`;
          document.getElementById(
            "optimal-angle"
          ).textContent = `${optimal.toFixed(2)}°`;
          document.getElementById(
            "tolerance"
          ).textContent = `±${tolerance.toFixed(2)}°`;

          // Determine PAPI status
          let status = "Normal Range";
          if (optimal < 2.5) status = "Too Shallow";
          else if (optimal > 4.0) status = "Too Steep";
          else if (range > 2.0) status = "Range Too Wide";
          else if (range < 0.5) status = "Range Too Narrow";

          document.getElementById("papi-status").textContent = status;
        }
      }

      function calculateGlideSlope() {
        const boxBDecimal =
          parseFloat(document.getElementById("upper-decimal").value) || 0;
        const boxCDecimal =
          parseFloat(document.getElementById("lower-decimal").value) || 0;

        // Calculate glide slope (average of Box B and Box C)
        const glideSlopeDecimal = (boxBDecimal + boxCDecimal) / 2;

        // Convert to degrees and minutes
        const result = decimalToDegrees(glideSlopeDecimal);
        const degreesMinutesText = `${result.degrees}° ${Math.round(
          result.minutes
        )}'`;

        // Update the display
        document.getElementById(
          "glide-slope-decimal"
        ).textContent = `${glideSlopeDecimal.toFixed(2)}°`;
        document.getElementById("glide-slope-degrees-minutes").textContent =
          degreesMinutesText;

        // Show the result section
        document.getElementById("glide-slope-result").style.display = "block";
      }

      // Event listeners for converter
      document
        .getElementById("degrees1")
        .addEventListener("input", updateFromDegreesMinutes);
      document
        .getElementById("minutes1")
        .addEventListener("input", updateFromDegreesMinutes);
      document
        .getElementById("decimal1")
        .addEventListener("input", updateFromDecimal);

      // Event listeners for Box B and Box C
      document
        .getElementById("upper-degrees")
        .addEventListener("input", updateBoxBFromDegreesMinutes);
      document
        .getElementById("upper-minutes")
        .addEventListener("input", updateBoxBFromDegreesMinutes);
      document
        .getElementById("upper-decimal")
        .addEventListener("input", updateBoxBFromDecimal);
      document
        .getElementById("lower-degrees")
        .addEventListener("input", updateBoxCFromDegreesMinutes);
      document
        .getElementById("lower-minutes")
        .addEventListener("input", updateBoxCFromDegreesMinutes);
      document
        .getElementById("lower-decimal")
        .addEventListener("input", updateBoxCFromDecimal);

      // Event listener for calculate button
      document
        .getElementById("calculate-btn")
        .addEventListener("click", calculateGlideSlope);

      // Initialize with zero values
      document.getElementById("upper-degrees").value = "";
      document.getElementById("upper-minutes").value = "";
      document.getElementById("upper-decimal").value = "";
      document.getElementById("lower-degrees").value = "";
      document.getElementById("lower-minutes").value = "";
      document.getElementById("lower-decimal").value = "";
    </script>
  </body>
</html>
